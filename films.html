<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Фильмы</title>
        <link rel="stylesheet" href="films.css">
    </head>
    <body>
        <ul>
            <a href="index.html">
                <li>
                    <img style="box-shadow: none; position: static; border-radius: 100%; height: 5vh;" src="img/321321.png">
                    На главную
                </li>
            </a>
        </ul>
        <h1>Фильмы</h1>
        <div>
            <a class="a-film">
                Человек-паук: Возвращение домой (2017)
                <img src="img/1.png">

            </a>
            <a class="a-film" target="_blank">
                Мстители: Война бесконечности (2018)
                <img src="img/2.png">

            </a>
            <a class="a-film" target="_blank">
                Мстители: Финал (2019)
                <img src="img/3.png">
                <audio src="voice/MSTITELI-FINAL.mp3"></audio>

            </a>
            <a class="a-film" target="_blank">
                Человек-паук: Вдали от дома (2019)
                <img src="img/4.png">

            </a>
            <a class="a-film" target="_blank">
                Человек-паук: Нет пути домой (2021)
                <img src="img/5.png">

            </a>
        </div>
        <div class="modal">
            <button class="close">Х</button>
            <div class="video" id="video-frame">
                <iframe width="720" height="405" src="https://rutube.ru/play/embed/6411d33b66a9bde84eb5435ebb12e022/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
            </div>
        </div>
    </body>
    <script>
        try {

            document.querySelectorAll('.phone').forEach(el=>{
                el.addEventListener('click', (e)=>{
                    el.classList.toggle('active')
                    e.preventDefault()

                    if (el.classList.contains('active')) {
                        el.parentElement.querySelector('audio').play()
                    } else {
                        el.parentElement.querySelector('audio').pause()                        
                    }
                })

            })
        
            let filmsList = [
                '<iframe width="720" height="405" src="https://rutube.ru/play/embed/2a6c476603d9e98106255f972e8e4a4a/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',
                '<iframe width="720" height="405" src="https://rutube.ru/play/embed/13ab8d24ce9e9c8119b4d67af9daf482/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',
                '<iframe width="720" height="405" src="https://rutube.ru/play/embed/6411d33b66a9bde84eb5435ebb12e022/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',
                '<iframe width="720" height="405" src="https://rutube.ru/play/embed/301cefc5161846ebf191870ef69f69a9/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',
                '<iframe width="720" height="405" src="https://rutube.ru/play/embed/6615b6d1b58acbbae98be49bc7a0d1c9/" frameBorder="0" allow="clipboard-write; autoplay" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'
            ]
            let filmLinks = document.querySelectorAll('.a-film')  
            let modal = document.querySelector('.modal') 
            let closeButton =  document.querySelector('.close') 
            let videoitem = document.querySelector('#video-frame')
            
            filmLinks.forEach((el, index)=>{
                el.onclick = (e)=>{
                    e.preventDefault()
                    modal.style.display = "flex"
                    videoitem.innerHTML = filmsList[index]
                }
            })

            closeButton.onclick = ()=>{
                modal.style.display = "none"
                    videoitem.innerHTML = ''
            }

        } catch {}


    </script>
</html>